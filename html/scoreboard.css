@import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700;900&display=swap');
body {
    margin: 0;
}

/* =============================================================
   THEME: DEFAULT (legacy table layout)
   Everything under .theme-default … applies when body has class
   "theme-default" (set via index.html?theme=default`).
   ============================================================= */

/* Base positioning and typography for default theme */
.theme-default .content_wrapper {
    font-family: 'Roboto', 'Helvetica', 'Arial', sans-serif;
}

.theme-default .scoreboard {
    font-size: 2.2vmax;
    margin: 2.5vh 2.5vw 2.5vh 2.5vw; 
    display: table;
    border-radius: 0.8vmax;
    padding: 0.4vmax;
    color: white;
    color: oklch(100% 0 0);
    background: rgba(45, 29, 29, 0.5);
    background: oklch(25% 0.025 20 / 50%);
}
.theme-default .home, .theme-default .away {
    display: table-row;
}
.theme-default .set, .theme-default .color, .theme-default .team, .theme-default .serve, .theme-default .score {
    display: table-cell;
}
.theme-default .team {
    position: relative;
    padding-left: 0.8vmax;
    padding-right: 1.6vmax;
    text-align: left;
}
.theme-default .score {
    padding-left: 0.8vmax;
    padding-right: 0.4vmax;
    font-weight: bold;
    text-align: right;
}
.theme-default .set {
    text-align: left;
    padding-left: 0.4vmax;
    padding-right: 0.8vmax;
    font-weight: bold;
    color: black;
    color: oklch(0% 0 0);
}
.theme-default .color {
    width: 0.8vmax;
}
.theme-default .serve {
    aspect-ratio: 1/1;
    min-width: 1em;
    width: 1em;    
}
.theme-default .serving {
    background-image: url("volleyball.png");
    background-position: center; 
    background-repeat: no-repeat; 
    background-size: contain; 
    aspect-ratio: 1 / 1;
}
.theme-default .ended {
    display: table-cell;
    padding-right: 0.4vmax;
    text-align: center;
    font-size: 0.6em;
    font-weight: 900;
    color: white;
    color: oklch(100% 0 0);
}
.theme-default .home .ended { 
    vertical-align: bottom; 
    padding-bottom: 0.2vmax;
}
.theme-default .away .ended { 
    vertical-align: top; 
    padding-top: 0.2vmax;
}
.theme-default .ended-sets {
    display: contents; 
}
.theme-default .ended-sets .ended:first-child {
    padding-left: 0.8vmax;
}
.theme-default .lineup {
    display: table;
    position: absolute;
    top: 16vh;
    left: 2.5vw;
    background: rgba(45, 29, 29, 0.5);
    background: oklch(25% 0.025 20 / 50%);
    color: white;
    color: oklch(100% 0 0);
    font-weight: bold;
    font-size: 0.4em;
    padding: 0.4vmax;
    border-radius: 0.8vmax;
}
.theme-default .home_team, .theme-default .away_team {
    display: table-cell;
    padding: 0 0.8vmax;
    vertical-align: top;
}
.theme-default .player {
    margin-bottom: 0.16em;
}
.theme-default .libero {
    font-style: italic;
}
.theme-default .number {
    display: inline-block;
    width: 2em;
    text-align: right;
    margin-right: 0.5em;
}
.theme-default .name {
    display: inline-block;
}
.theme-default .team_name {
    font-size: 0.8em;
    text-align: center;
    margin: 0.4em 0;
    font-weight: bold;
}
.theme-default .highlight {
    position: absolute;
    bottom: 2.5vh;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(45, 29, 29, 0.5);
    background: oklch(25% 0.025 20 / 50%);
    color: white;
    color: oklch(100% 0 0);
    padding: 0.4vmax 0.6vmax;
    border-radius: 0.8vmax;
    text-align: center;
}
.theme-default .home-highlight {
    transform: translateX(-100%) translateX(-2vw);
}
.theme-default .away-highlight {
    transform: translateX(2vw);
}
.theme-default .highlight-desc {
    font-size: 1.5em;
    font-weight: bold;
    margin-bottom: 0.2em;
}
.theme-default .highlight-player {
    font-size: 1.6em;
}

/* =============================================================
   THEME: MODERN (glass, flex layout)
   Everything under .theme-modern … applies when body has class
   "theme-modern" (set via index.html URL param `?theme=modern`).
   ============================================================= */

/* Typography and flow overrides for modern theme */
.theme-modern .content_wrapper {
    font-family: 'Roboto', 'Helvetica', 'Arial', sans-serif;
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    align-items: center;
    min-height: 100vh;
    position: relative;
}
/* Modern theme uses normal flow for these containers */
.theme-modern #scoreboard { position: relative; }
.theme-modern .lineup_wrapper, .theme-modern .highlight_wrapper { position: static; }

/* === Modern theme: bold, horizontal bar with glass effect and accent colors === */
.theme-modern {
    --accent: oklch(75% 0.18 260); /* electric blue */
    /* Slightly higher alpha to compensate for removed blur */
    --bg-scoreboard: oklch(20% 0.03 250 / 75%);
    --bg-scoreboard-oklch: oklch(20% 0.03 250 / 75%);
    --color-text: oklch(98% 0 0);
    --bg-lineup: oklch(20% 0.03 250 / 75%);
    --bg-lineup-oklch: oklch(20% 0.03 250 / 75%);
    --color-lineup: oklch(98% 0 0);
    --bg-highlight: oklch(20% 0.03 250 / 75%);
    --bg-highlight-oklch: oklch(20% 0.03 250 / 75%);
    --color-highlight: oklch(98% 0 0);
}
.theme-modern .scoreboard {
    display: flex;
    gap: 2vmax;
    align-items: center;
    justify-content: center;
    padding: 0.6vmax 1vmax;
    /* Create similar left/right gap as the top gap to avoid edge-to-edge */
    margin: 2vh 3vw;
    border-radius: 999px;
    background: rgba(18, 22, 40, 0.65);
    background: var(--bg-scoreboard-oklch);
    color: var(--color-text);
    box-shadow: 0 8px 24px rgba(0,0,0,0.25);
    width: fit-content;
}
.theme-modern .home, .theme-modern .away {
    display: flex;
    align-items: center;
    gap: 1vmax;
}
/* Reorder cells inside each side to: color, team, set, serve, ended-sets, score */
.theme-modern .home .color, .theme-modern .away .color { order: 1; }
.theme-modern .home .team,  .theme-modern .away .team  { order: 2; }
.theme-modern .home .set,   .theme-modern .away .set   { order: 3; }
.theme-modern .home .serve, .theme-modern .away .serve { order: 4; }
.theme-modern .home .ended-sets, .theme-modern .away .ended-sets { order: 5; }
.theme-modern .home .score, .theme-modern .away .score { order: 6; }

/* Team name bold, slightly condensed spacing */
.theme-modern .team {
    font-weight: 900;
    letter-spacing: 0.01em;
    padding: 0 0.5vmax;
}
/* Big pill scores */
.theme-modern .score {
    font-size: 1.2em;
    min-width: 2.4em;
    text-align: center;
    background: rgba(30, 35, 60, 0.60);
    background: oklch(30% 0.04 250 / 60%);
    padding: 0.2em 0.5em;
    border-radius: 0.6em;
    box-shadow: inset 0 0 0 2px oklch(60% 0.02 250 / 30%);
}
/* Sets as compact badges */
.theme-modern .set {
    font-weight: 800;
    background: rgba(35, 40, 70, 0.50);
    background: oklch(35% 0.06 250 / 50%);
    padding: 0.1em 0.5em;
    border-radius: 0.5em;
}
/* Jersey color as circular swatch; visible ring when transparent */
.theme-modern .color {
    width: 1.2em;
    height: 1.2em;
    border-radius: 50%;
    border: 2px solid oklch(85% 0 0 / 60%);
    background-clip: padding-box;
}
/* Serve indicator as glowing dot instead of volleyball icon */
.theme-modern .serve {
    width: 1.8em;
    height: 1.8em;
    min-width: 1.8em;
    aspect-ratio: 1 / 1;
    border-radius: 50%;
    border: 2px solid var(--accent);
    /* Keep center transparent */
    background-color: transparent;
    box-shadow: none;
}
.theme-modern .serving {
    /* Show volleyball icon inside the accent ring to indicate serve */
    background-color: transparent;
    background-image: url("volleyball_modern.png");
    background-position: center;
    background-repeat: no-repeat;
    background-size: 100% 100%;
    border-color: var(--accent);
    box-shadow: 0 0 12px var(--accent), 0 0 24px color-mix(in oklch, var(--accent), black 20%);
    position: relative;
}
/* Ended sets as small chips following team */
.theme-modern .ended-sets { display: flex; gap: 0.3em; }
.theme-modern .ended {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 1.4em;
    padding: 0.1em 0.35em;
    border-radius: 0.5em;
    background: rgba(30, 35, 60, 0.45);
    background: oklch(30% 0.03 250 / 45%);
    font-size: 0.8em;
    font-weight: 800;
}

/* Lineup as two glass cards side-by-side centered near top of screen */
.theme-modern .lineup {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1vmax;
    position: fixed;
    top: 2.5vh;
    left: 50%;
    transform: translateX(-50%);
    max-width: 70vw;
    background: rgba(18, 22, 40, 0.65);
    background: var(--bg-lineup-oklch);
    color: var(--color-lineup);
    padding: 0.75vmax 1vmax;
    border-radius: 1vmax;
    box-shadow: 0 8px 24px rgba(0,0,0,0.25);
    z-index: 10;
}
.theme-modern .home_team, .theme-modern .away_team {
    display: block;
}
.theme-modern .team_name {
    text-align: left;
    font-size: 0.9em;
    font-weight: 900;
    margin: 0 0 0.4em 0;
    border-bottom: 2px solid oklch(70% 0.02 250 / 40%);
    padding-bottom: 0.2em;
}
.theme-modern .player { display: flex; align-items: baseline; gap: 0.5em; margin: 0.15em 0; }
.theme-modern .number {
    width: auto;
    min-width: 2.2em;
    text-align: center;
    background: rgba(35, 40, 70, 0.50);
    background: oklch(35% 0.06 250 / 50%);
    border-radius: 0.5em;
    padding: 0.05em 0.5em;
    font-weight: 800;
}
.theme-modern .libero .number { background: color-mix(in oklch, var(--accent), white 20%); }
.theme-modern .name { display: inline-block; }

/* Highlight as toast above the scoring team */
.theme-modern .highlight {
    position: absolute;
    bottom: 8vmax;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(18, 22, 40, 0.65);
    background: var(--bg-highlight-oklch);
    color: var(--color-highlight);
    padding: 0.6vmax 1.8vmax;
    border-radius: 999px;
    box-shadow: 0 8px 24px rgba(0,0,0,0.25);
}
.theme-modern .home-highlight {
    transform: translateX(-100%) translateX(-2vw);
}
.theme-modern .away-highlight {
    transform: translateX(2vw);
}

/* Backdrop blur removed by default for streaming-friendly alpha compositing. */
.theme-modern .highlight-desc { font-size: 1em; font-weight: 900; margin-bottom: 0.1em; }
.theme-modern .highlight-player { font-size: 0.9em; opacity: 0.9; }
