<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="-1">
    <meta http-equiv="Cache-Control" content="no-cache">
    <link rel="stylesheet" href="scoreboard.css">
    <script type="text/javascript">
        const DOM_PARSER = new DOMParser();
        var current_scoreboard_xml;
        window.addEventListener('load', function() {
            setInterval(() => {
                fetch('scoreboard.xml?' + (new Date()).getTime())
                    .then((response) => {
                        return response.text();
                    })
                    .then((scoreboard_xml) => {
                        if(scoreboard_xml == current_scoreboard_xml) {
                            return;
                        }    
                        else {
                            current_scoreboard_xml = scoreboard_xml;
                            var parsed_xml = DOM_PARSER.parseFromString(scoreboard_xml, 'text/xml');
                            var scoreboard = parsed_xml.getElementById('scoreboard');
                            if(scoreboard) {
                                document.getElementById('scoreboard').replaceWith(scoreboard);
                            }
                            var lineup = parsed_xml.getElementById('lineup');
                            if(lineup) {
                                document.getElementById('lineup').replaceWith(lineup);
                            }
                            var highlight = parsed_xml.getElementById('highlight');
                            if(highlight) {
                                document.getElementById('highlight').replaceWith(highlight);
                            }
                        }
                    })
            }, 1000);
        });
    </script>
    <style>
        #scoreboard {
            position: absolute;
        }
    </style>
</head>
<body>
    <div class="scoreboard_wrapper">
        <div id="scoreboard"></div>
    </div>
    <div class="lineup_wrapper">
        <div id="lineup"></div>
    </div>
    <div class="highlight_wrapper">
        <div id="highlight"></div>
    </div>
</body>
